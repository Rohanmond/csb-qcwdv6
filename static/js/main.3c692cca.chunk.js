(this["webpackJsonpcart-mngmt-added-filter"]=this["webpackJsonpcart-mngmt-added-filter"]||[]).push([[0],{48:function(e,t,c){},49:function(e,t,c){"use strict";c.r(t);var r=c(2),a=c(23),n=c.n(a),i=c(1),s=c(5),o=c(4),l=c.n(o),d=c(6),u=c.n(d),j=c(0),b=function(e){var t=e.el,c=e.removeCartHandler,r=e.quantityIncreaseHandler,a=e.quantityDecreaseHandler,n=t.image,i=t.name,s=t.price,o=t.quantity,l=t.id;return Object(j.jsxs)("div",{className:"card-container card-container-hz brd-rd-semi-sq",children:[Object(j.jsx)("div",{className:"card-img-container-hz",children:Object(j.jsx)("img",{className:"card-img brd-rd-semi-sq",src:n,alt:"card"})}),Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsxs)("div",{className:"cart_mngmt-card-container",children:[Object(j.jsx)("div",{className:"cart_mngmt-card-item",children:Object(j.jsx)("h4",{children:i})}),Object(j.jsxs)("div",{className:"cart_mngmt-card-item",children:[Object(j.jsxs)("p",{className:"font-wt-semibold",children:["\u20b9",s]}),Object(j.jsx)("p",{className:"text-secondary-color",children:Object(j.jsx)("del",{children:"\u20b93999"})})]}),Object(j.jsx)("div",{className:"cart_mngmt-card-item",children:Object(j.jsx)("div",{className:"text-secondary-color font-wt-bold",children:"50% off"})}),Object(j.jsxs)("div",{className:"cart_mngmt-card-item",children:[Object(j.jsx)("p",{children:"Quantity:"}),Object(j.jsx)("p",{style:{cursor:"pointer"},onClick:function(){return a(t)},className:"text-secondary-color",children:Object(j.jsx)("i",{className:"fas fa-minus-circle"})}),Object(j.jsx)("p",{className:"cart-quantity-number",children:o}),Object(j.jsx)("p",{style:{cursor:"pointer"},onClick:function(){return r(t)},className:"text-secondary-color",children:Object(j.jsx)("i",{className:"fas fa-plus-circle"})})]})]}),Object(j.jsx)("div",{className:"card-footer-elements cart_mngmt-card-footer",children:Object(j.jsx)("button",{onClick:function(){return c(l)},className:"btn btn-secondary outlined-secondary hover-danger brd-rd-semi-sq",children:"Remove from cart"})})]})]})},m=c(11),h=c(7),x=[{rating:4.5,category:"men",size:"s"},{rating:4.1,category:"women",size:"s"},{rating:3.8,category:"women",size:"m"},{rating:3.9,category:"men",size:"xl"},{rating:3.5,category:"men",size:"l"},{rating:3.7,category:"kids",size:"xxl"},{rating:4.3,category:"kids",size:"s"},{rating:4.7,category:"women",size:"xxl"},{rating:4.8,category:"women",size:"m"},{rating:4.5,category:"kids",size:"xl"},{rating:3.1,category:"men",size:"l"},{rating:2.5,category:"women",size:"xl"},{rating:4.2,category:"men",size:"m"},{rating:4.1,category:"kids",size:"s"},{rating:3.9,category:"kids",size:"xxl"},{rating:3.7,category:"women",size:"l"},{rating:3.5,category:"men",size:"m"},{rating:4.5,category:"kids",size:"s"}],p=function(){return x},O=Object(r.createContext)({route:"product"}),f=Object(r.createContext)({data:[]}),g=Object(r.createContext)({cartData:[]}),v=function(e){var t=e.children,c=Object(r.useState)("product"),a=Object(h.a)(c,2),n=a[0],i=a[1];return Object(j.jsx)(O.Provider,{value:{route:n,setRoute:i},children:t})},y=function(e){var t=e.children,c={category:{men:!1,women:!1,kids:!1},size:{s:!1,m:!1,l:!1,xl:!1,xxl:!1},rating:"",sortByPrice:"",maxPrice:1e3},a=Object(r.useState)([]),n=Object(h.a)(a,2),o=n[0],d=n[1],b=p(),x="https://62188b391a1ba20cbaa3c9ce.mockapi.io/api/products",O=Object(r.useReducer)((function(e,t){switch(t.type){case"filter":var r=Object(i.a)(Object(i.a)({},e.filter),{},Object(m.a)({},t.payload[0],t.payload[1]));return console.log("newFi",r),Object(i.a)(Object(i.a)({},e),{},{filter:r});case"clearFilter":return Object(i.a)(Object(i.a)({},e),{},{filter:c});default:return e}}),{filter:c}),g=Object(h.a)(O,2),v=g[0],y=g[1];return Object(r.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(x);case 3:200!==(t=e.sent).status&&201!==t||(c=t.data.map((function(e,t){return Object(i.a)(Object(i.a)({},e),{},{rating:b[t].rating,category:b[t].category,size:b[t].size})})),d(c)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(j.jsx)(f.Provider,{value:{data:o,setData:d,state:v,dispatch:y,productAPI:x},children:t})},N=function(e){var t=e.children,c=Object(r.useState)([]),a=Object(h.a)(c,2),n=a[0],i=a[1],o="https://62188b391a1ba20cbaa3c9ce.mockapi.io/api/carts";return Object(r.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(o);case 3:200!==(t=e.sent).status&&201!==t.status||i(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),Object(j.jsx)(g.Provider,{value:{cartData:n,setCartData:i,cartAPI:o},children:t})},k=function(){return Object(r.useContext)(O)},w=function(){return Object(r.useContext)(f)},z=function(){return Object(r.useContext)(g)},C=function(e){var t=e.removeCartHandler,c=e.quantityIncreaseHandler,r=e.quantityDecreaseHandler,a=z().cartData;return Object(j.jsxs)("main",{className:"cart_mngmt-main",children:[Object(j.jsx)("div",{className:"cart_mngmt-main-heading text-align-center",children:Object(j.jsxs)("h4",{children:["MY CART(",a.reduce((function(e,t){return e+t.quantity}),0),")"]})}),Object(j.jsxs)("div",{className:"cart_mngmt-content",children:[Object(j.jsx)("div",{className:"cart_mngmt-carts",children:a.map((function(e){return Object(j.jsx)(b,{el:e,removeCartHandler:t,quantityIncreaseHandler:c,quantityDecreaseHandler:r},e.id)}))}),0===a.length&&Object(j.jsx)("h2",{children:"Your cart is empty"}),0!==a.length&&Object(j.jsx)("div",{className:"cart_mngmt-price-details",children:Object(j.jsxs)("div",{className:"card-container cart_mngmt-price-card brd-rd-semi-sq",children:[Object(j.jsxs)("div",{className:"mngmt_cart-price-header",children:[Object(j.jsx)("h3",{children:"CART PRICE DETAILS"}),Object(j.jsx)("button",{className:"btn btn-secondary outlined-secondary brd-rd-semi-sq",children:Object(j.jsx)("i",{className:"fas fa-share"})})]}),a.map((function(e){return Object(j.jsxs)("div",{className:"mngmt_cart-price-item",children:[Object(j.jsx)("p",{children:e.name}),Object(j.jsxs)("p",{children:["Q:",e.quantity]}),Object(j.jsxs)("p",{children:["\u20b9",e.price*e.quantity]})]},e.id)})),Object(j.jsxs)("div",{className:"mngmt_cart-price-item",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Total price:"}),Object(j.jsx)("p",{className:"font-wt-bold",children:a.reduce((function(e,t){return e+t.price*t.quantity}),0)})]}),Object(j.jsx)("a",{className:"btn btn-link-primary background-primary brd-rd-semi-sq text-align-center",href:"../checkout/checkout.html",children:"CHECKOUT"})]})})]})]})},q=function(){var e=k().setRoute,t=z().cartData;return Object(j.jsx)("nav",{className:"navbar",children:Object(j.jsxs)("ul",{className:"nav-right",children:[Object(j.jsx)("li",{children:Object(j.jsx)("div",{className:"badge-container",children:Object(j.jsx)("div",{className:"badge-icon",children:Object(j.jsx)("span",{onClick:function(){e("product")},style:{cursor:"pointer"},className:"material-icons-outlined",children:"shop_2"})})})}),Object(j.jsx)("li",{children:Object(j.jsxs)("div",{className:"badge-container",children:[Object(j.jsx)("div",{className:"badge-icon",style:{cursor:"pointer"},onClick:function(){return e("cart")},children:Object(j.jsx)("span",{className:"material-icons",children:"shopping_cart"})}),Object(j.jsx)("div",{className:"badge-number background-online",children:t.length})]})})]})})},_=c(13),H=function(e){var t=e.el,c=e.addToCartHandler,a=t.name,n=t.image,i=t.price,s=t.rating,o=t.size,l=t.category,d=Object(r.useState)(!0),u=Object(h.a)(d,2),b=u[0],m=u[1],x=z().cartData;return Object(r.useLayoutEffect)((function(){x.find((function(e){return e.product_id===t.id}))?m(!1):m(!0)}),[]),Object(j.jsxs)("div",{className:"card-container card-container-shadow productlist-card brd-rd-semi-sq",children:[Object(j.jsxs)("div",{className:"card-img-container",children:[Object(j.jsx)("img",{className:"card-img productlist-card-img",src:n,alt:"card "}),Object(j.jsx)("button",{className:"card-img-tag-btn productlist-card-img-tag-btn",children:Object(j.jsx)("span",{className:"material-icons",children:"favorite_border"})})]}),Object(j.jsxs)("div",{className:"card-content",children:[Object(j.jsxs)("div",{className:"card-sub-text",children:[Object(j.jsx)("div",{children:s}),Object(j.jsx)("div",{children:l}),Object(j.jsx)("div",{children:o})]}),Object(j.jsxs)("div",{className:"card-text",children:[Object(j.jsx)("div",{children:a}),Object(j.jsx)("div",{className:"card-subtitle",children:i})]}),Object(j.jsx)("div",{className:"card-footer-elements",children:Object(j.jsx)("button",{onClick:function(){return c(t,b)&&m(!1)},className:"btn btn-primary brd-rd-semi-sq ".concat(b?"background-primary":"background-success"),children:b?"Add to cart":"Go to cart"})})]})]})},P=function(e){var t=e.addToCartHandler,c=w().data,r=w(),a=r.state,n=r.dispatch,s=function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var r=t.reduce((function(e,t){return e.concat(t.filter((function(t){return!e.some((function(e){return e.id===t.id}))})))}),[]);return console.log(r),r};return Object(j.jsxs)("div",{className:"productlist-content",children:[Object(j.jsxs)("aside",{className:"productlist-aside nav-desktop",children:[Object(j.jsxs)("div",{className:"productlist-aside-header",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Filters"}),Object(j.jsx)("p",{onClick:function(){n({type:"clearFilter"})},children:"Clear"})]}),Object(j.jsxs)("div",{className:"productlist-aside-item",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Price"}),Object(j.jsxs)("div",{className:"productlist-slider-label",children:[Object(j.jsx)("p",{className:"text-secondary-color",children:"0"}),Object(j.jsx)("p",{className:"text-secondary-color",children:"500"}),Object(j.jsx)("p",{className:"text-secondary-color",children:"1000"})]}),Object(j.jsx)("div",{className:"productlist-input-container",children:Object(j.jsx)("input",{type:"range",name:"rangeInput",className:"slider",min:"0",max:"1000",value:a.filter.maxPrice,onChange:function(e){n({type:"filter",payload:["maxPrice",e.target.value]}),console.log(e.target.value)}})})]}),Object(j.jsxs)("div",{className:"productlist-aside-item",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Category"}),Object(j.jsxs)("div",{className:"productlist-input-container",children:[Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"men-checkbox",value:"men",onChange:function(){return n({type:"filter",payload:["category",Object(i.a)(Object(i.a)({},a.filter.category),{},{men:!a.filter.category.men})]})}}),Object(j.jsx)("label",{for:"men-checkbox",children:"Men"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"women-checkbox",value:"women",onChange:function(){return n({type:"filter",payload:["category",Object(i.a)(Object(i.a)({},a.filter.category),{},{women:!a.filter.category.women})]})}}),Object(j.jsx)("label",{for:"women-checkbox",children:"Women"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"kids-checkbox",value:"kids",onChange:function(){return n({type:"filter",payload:["category",Object(i.a)(Object(i.a)({},a.filter.category),{},{kids:!a.filter.category.kids})]})}}),Object(j.jsx)("label",{for:"kids-checkbox",children:"Kids"})]})]})]}),Object(j.jsxs)("div",{className:"productlist-aside-item",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Size"}),Object(j.jsxs)("div",{className:"productlist-input-container",children:[Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"s-checkbox",value:"men",onChange:function(){return n({type:"filter",payload:["size",Object(i.a)(Object(i.a)({},a.filter.size),{},{s:!a.filter.size.s})]})}}),Object(j.jsx)("label",{for:"s-checkbox",children:"S"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"m-checkbox",value:"women",onChange:function(){return n({type:"filter",payload:["size",Object(i.a)(Object(i.a)({},a.filter.size),{},{m:!a.filter.size.m})]})}}),Object(j.jsx)("label",{for:"m-checkbox",children:"M"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"l-checkbox",value:"kids",onChange:function(){return n({type:"filter",payload:["size",Object(i.a)(Object(i.a)({},a.filter.size),{},{l:!a.filter.size.l})]})}}),Object(j.jsx)("label",{for:"l-checkbox",children:"L"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"xl-checkbox",value:"kids",onChange:function(){return n({type:"filter",payload:["size",Object(i.a)(Object(i.a)({},a.filter.size),{},{xl:!a.filter.size.xl})]})}}),Object(j.jsx)("label",{for:"xl-checkbox",children:"XL"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"checkbox",name:"category-checkbox",id:"xxl-checkbox",value:"kids",onChange:function(){return n({type:"filter",payload:["size",Object(i.a)(Object(i.a)({},a.filter.size),{},{xxl:!a.filter.size.xxl})]})}}),Object(j.jsx)("label",{for:"xxl-checkbox",children:"XXL"})]})]})]}),Object(j.jsxs)("div",{className:"productlist-aside-item",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Rating"}),Object(j.jsxs)("div",{className:"productlist-input-container",children:[Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"radio",name:"rating-radio",id:"4star-radio",value:"4star",onChange:function(){return n({type:"filter",payload:["rating","4-star"]})}}),Object(j.jsx)("label",{for:"4star-radio",children:"4 stars & above"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"radio",name:"rating-radio",id:"3star-radio",value:"3star",onChange:function(){return n({type:"filter",payload:["rating","3-star"]})}}),Object(j.jsx)("label",{for:"3star-radio",children:"3 stars & above"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"radio",name:"rating-radio",id:"2star-radio",value:"2star",onChange:function(){return n({type:"filter",payload:["rating","2-star"]})}}),Object(j.jsx)("label",{for:"2star-radio",children:"2 stars & above"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"radio",name:"rating-radio",id:"1star-radio",value:"1star",onChange:function(){return n({type:"filter",payload:["rating","1-star"]})}}),Object(j.jsx)("label",{for:"1star-radio",children:"1 stars & above"})]})]})]}),Object(j.jsxs)("div",{className:"productlist-aside-item",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Sort by Price"}),Object(j.jsxs)("div",{className:"productlist-input-container",children:[Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"radio",name:"sortby-radio",id:"lowtohigh-radio",value:"lowtohigh",onChange:function(){return n({type:"filter",payload:["sortByPrice","low-to-high"]})}}),Object(j.jsx)("label",{for:"lowtohigh-radio",children:"price - Low to High"})]}),Object(j.jsxs)("div",{className:"productlist-input-item-hz",children:[Object(j.jsx)("input",{type:"radio",name:"sortby-radio",id:"hightolow-radio",value:"hightolow",onChange:function(){return n({type:"filter",payload:["sortByPrice","high-to-low"]})}}),Object(j.jsx)("label",{for:"hightolow-radio",children:"price - High to Low"})]})]})]})]}),Object(j.jsx)("main",{className:"productlist-main",children:Object(j.jsxs)("div",{className:"productlist-main-container",children:[Object(j.jsxs)("div",{className:"productlist-main-header",children:[Object(j.jsx)("p",{className:"font-wt-bold",children:"Showing All Products"}),Object(j.jsx)("p",{children:"(Showing 20 products)"})]}),Object(j.jsx)("div",{className:"productlist-main-card-container",children:function(){var e,t,r=Object(_.a)(c);e=r,t=a.filter.maxPrice;var n=function(e,t){var c=s([]),r=function(r){t[r]&&(c=s(c,e.filter((function(e){return e.category===r}))))};for(var a in t)r(a);return console.log("cate",c),c}(r=e.filter((function(e){return e.price<=t})),a.filter.category);0!==n.length&&(r=n);var i=function(e,t){var c=s([]),r=function(r){t[r]&&(c=s(c,e.filter((function(e){return e.size===r}))))};for(var a in t)r(a);return c}(r,a.filter.size);return 0!==i.length&&(r=i),a.filter.rating&&(r=function(e,t){var c=Number(t[0]);return e.filter((function(e){return e.rating>=c}))}(r,a.filter.rating)),a.filter.sortByPrice&&(r=function(e,t){return"high-to-low"===t?Object(_.a)(e).sort((function(e,t){return t.price-e.price})):"low-to-high"===t?Object(_.a)(e).sort((function(e,t){return e.price-t.price})):void 0}(r,a.filter.sortByPrice)),console.log("filter",r),r}().map((function(e){return Object(j.jsx)(H,{el:e,addToCartHandler:t},e.id)}))})]})})]})};c(48);function D(){var e=k(),t=e.route,c=e.setRoute,r=z(),a=r.cartData,n=r.setCartData,o=r.cartAPI,d=function(){var e=Object(s.a)(l.a.mark((function e(t,r){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r){e.next=5;break}c("cart"),e.next=11;break;case 5:return e.next=7,u.a.post(o,Object(i.a)(Object(i.a)({},t),{},{quantity:1,product_id:t.id}));case 7:if(201!==(s=e.sent).status&&200!==s.status){e.next=11;break}return n(a.concat(s.data)),e.abrupt("return",!0);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,c){return e.apply(this,arguments)}}(),b=function(){var e=Object(s.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.delete("".concat(o,"/").concat(t));case 3:200!==(c=e.sent).status&&201!==c.status||n(a.filter((function(e){return e.id!==t}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.put("".concat(o,"/").concat(t.id),Object(i.a)(Object(i.a)({},t),{},{quantity:t.quantity+1}));case 3:201!==(c=e.sent).status&&200!==c.status||n(a.map((function(e){return e.id===t.id?c.data:e}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(l.a.mark((function e(t){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.quantity){e.next=3;break}return b(t.id),e.abrupt("return");case 3:return e.prev=3,e.next=6,u.a.put("".concat(o,"/").concat(t.id),Object(i.a)(Object(i.a)({},t),{},{quantity:t.quantity-1}));case 6:201!==(c=e.sent).status&&200!==c.status||n(a.map((function(e){return e.id===t.id?c.data:e}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(q,{}),"product"===t&&Object(j.jsx)(P,{addToCartHandler:d}),"cart"===t&&Object(j.jsx)(C,{removeCartHandler:b,quantityIncreaseHandler:m,quantityDecreaseHandler:h})]})}var I=document.getElementById("root");n.a.render(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(y,{children:Object(j.jsx)(N,{children:Object(j.jsx)(v,{children:Object(j.jsx)(D,{})})})})}),I)}},[[49,1,2]]]);
//# sourceMappingURL=main.3c692cca.chunk.js.map